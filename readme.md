# Autocomplete for Airport Search

## Описание проекта

Этот проект представляет собой консольное Java-приложение для быстрого поиска аэропортов по заданному свойству. Программа принимает CSV-файл с данными об аэропортах, файл с запросами, и возвращает результаты поиска в формате JSON.


---
## Функциональные возможности
- Поиск аэропортов по заданной колонке (префиксный поиск).
- Простая однопоточная обработка запросов.
- Вывод результатов в формате JSON без использования сторонних библиотек.
- Оптимальное использование памяти: не более 7 MB.

---
## Требования
- Java: JDK 11
- Система сборки: Maven

---

## Формат данных
### Входной файл (CSV)
- CSV-файл с данными об аэропортах, где:
    - Первая колонка — уникальный идентификатор строки.
    - Вторая колонка — название аэропорта (может быть использовано для поиска).
    - Остальные колонки — дополнительные свойства.

Пример:
```csv
1,"Abakan Airport","Abakan","Russia",...,...,...
2,"Barnaul Airport","Barnaul","Russia",...,...,...
3,"Kemerovo Airport","Kemorovo","Russia",...,...,...
4,"Omsk Central Airport","Omsk","Russia",...,...,...
5,"Krasnodar Pashkovsky International Airport","Krasnodar","Russia",...,...,...
6,"Uytash Airport","Makhachkala","Russia",...,...,...
7,"Mineralnyye Vody Airport","Mineralnye Vody","Russia",...,...,...
8,"Stavropol Shpakovskoye Airport","Stavropol","Russia",...,...,...
```

### Файл запросов
- Текстовый файл, где каждая строка - запрос на поиск.

```
K
M
```

### Выходной файл (JSON)
 - JSON-объект с полями:
    - initTime — время в миллисекундах, затраченное на инициализацию.
    - result — массив результатов поиска. Каждый объект включает:
       - search — строку поиска.
       - result — массив идентификаторов строк, подходящих под запрос.
       - time — время, затраченное на выполнение поиска.

Пример:
```json
{
  "initTime": 123,
  "result": [
    {
      "search": "K",
      "result": [3,5],
      "time": 5
    },
    {
      "search": "M",
      "result": [6,7],
      "time": 10
    }
  ]
}
```

---
## Как использовать
1. ### Сборка проекта:
    Выполните следующую команду для сборки JAR-файла:
    ```bash
    mvn clean package
    ```
2. ### Запуск приложения: 
   Запустите приложение с параметрами командной строки:
    ```bash
    java -Xmx7m -jar target/airports-search.jar \
    --data <path_to_airports.csv> \
    --indexed-column-id <column_id> \
    --input-file <path_to_input_file> \
    --output-file <path_to_output_file>
    ```
3. ### Параметры командной строки:
   - `--data`: Путь к входному CSV-файлу с данными об аэропортах.
   - `--indexed-column-id`: Номер колонки для поиска (нумерация начинается с 1).
   - `--input-file`: Путь к файлу запросов.
   - `--output-file`: Путь к файлу для сохранения результатов.
---
## Пример запуска
```bash 
    java -Xmx7m -jar target/airports-search.jar \
    --data airports.csv \
    --indexed-column-id 2 \
    --input-file input.txt \
    --output-file result.json
```

---
## Ограничения
1. Программа использует не более 7 MB памяти (параметр -Xmx7m).
2. Данные CSV-файла не хранятся полностью в памяти.
3. Парсинг JSON выполнен вручную, без использования внешних библиотек.